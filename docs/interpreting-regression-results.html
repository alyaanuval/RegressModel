<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Online Tutorial on Regression Modeling with Actuarial and Financial Applications</title>
  <meta name="description" content="Statistical techniques can be used to address new situations. This is important in a rapidly evolving risk management world. Analysts with a strong analytical background understand that a large data set can represent a treasure trove of information to be mined and can yield a strong competitive advantage. This course provides budding analysts with a foundation in multiple reression. Participants will learn about these statistical techniques using data on the demand for insurance, lottery sales, healthcare expenditures, and other applications. Although no specific knowledge of actuarial or risk management is presumed, the approach introduces applications in which statistical techniques can be used to analyze real data of interest.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Online Tutorial on Regression Modeling with Actuarial and Financial Applications" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Statistical techniques can be used to address new situations. This is important in a rapidly evolving risk management world. Analysts with a strong analytical background understand that a large data set can represent a treasure trove of information to be mined and can yield a strong competitive advantage. This course provides budding analysts with a foundation in multiple reression. Participants will learn about these statistical techniques using data on the demand for insurance, lottery sales, healthcare expenditures, and other applications. Although no specific knowledge of actuarial or risk management is presumed, the approach introduces applications in which statistical techniques can be used to analyze real data of interest." />
  <meta name="github-repo" content="<a href="https://github.com/ewfreesRes/RegressModel" class="uri">https://github.com/ewfreesRes/RegressModel</a>" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Online Tutorial on Regression Modeling with Actuarial and Financial Applications" />
  
  <meta name="twitter:description" content="Statistical techniques can be used to address new situations. This is important in a rapidly evolving risk management world. Analysts with a strong analytical background understand that a large data set can represent a treasure trove of information to be mined and can yield a strong competitive advantage. This course provides budding analysts with a foundation in multiple reression. Participants will learn about these statistical techniques using data on the demand for insurance, lottery sales, healthcare expenditures, and other applications. Although no specific knowledge of actuarial or risk management is presumed, the approach introduces applications in which statistical techniques can be used to analyze real data of interest." />
  

<meta name="author" content="Edward W. (Jed) Frees, University of Wisconsin-Madison">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="variable-selection.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />







<script language="javascript">
function toggle(id1,id2) {
	var ele = document.getElementById(id1); var text = document.getElementById(id2);
	if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Solution";}
		else {ele.style.display = "block"; text.innerHTML = "Hide Solution";}}
</script>

<script language="javascript">
function togglecode(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show R Code";}
      else {ele.style.display = "block"; text.innerHTML = "Hide R Code";}}
</script>
<script language="javascript">
function toggleEX(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Example";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Example";}}
</script>
<script language="javascript">
function toggleTheory(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Theory";}
      else {ele.style.display = "block"; text.innerHTML = "Hide Theory";}}
</script>

<script language="javascript">
function toggleDet(id1,id2) {
   var ele = document.getElementById(id1); var text = document.getElementById(id2);
   if (ele.style.display == "block") {ele.style.display = "none"; text.innerHTML = "Show Details";}
      else {ele.style.display = "block"; text.innerHTML = "Hide  Details";}}
</script>

<script language="javascript">
$(document).ready(function(){
    $('[data-toggle="tooltip"]').tooltip();
});
</script>


<script src=https://cdn.datacamp.com/datacamp-light-latest.min.js></script>

<script>
$(document).ready(function(){
    $('[data-toggle="popover"]').popover(); 
});
</script>

<style>
/* Rearrange console label */
.datacamp-exercise ol li, .datacamp-exercise ul li {
  margin-bottom: 0em !important;
}

/* Remove bullet marker */
.datacamp-exercise ol li::before, .datacamp-exercise ul li::before {
  content: '' !important;
}
</style>


<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-125587869-1"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-125587869-1');
</script>


<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Regression Modeling Online Tutorial</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a><ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#topic-description"><i class="fa fa-check"></i>Topic Description</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#resources"><i class="fa fa-check"></i>Resources</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#tutorial-description"><i class="fa fa-check"></i>Tutorial Description</a></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#welcome-to-the-tutorial-video"><i class="fa fa-check"></i>Welcome to the Tutorial Video</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html"><i class="fa fa-check"></i><b>1</b> Regression and the Normal Distribution</a><ul>
<li class="chapter" data-level="1.1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#fitting-a-normal-distribution"><i class="fa fa-check"></i><b>1.1</b> Fitting a normal distribution</a><ul>
<li class="chapter" data-level="1.1.1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#video"><i class="fa fa-check"></i><b>1.1.1</b> Video</a></li>
<li class="chapter" data-level="1.1.2" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-fitting-galtons-height-data"><i class="fa fa-check"></i><b>1.1.2</b> Exercise. Fitting Galton’s height data</a></li>
<li class="chapter" data-level="1.1.3" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-visualizing-childs-height-distribution"><i class="fa fa-check"></i><b>1.1.3</b> Exercise. Visualizing child’s height distribution</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#visualizing-distributions"><i class="fa fa-check"></i><b>1.2</b> Visualizing distributions</a><ul>
<li class="chapter" data-level="1.2.1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#video-1"><i class="fa fa-check"></i><b>1.2.1</b> Video</a></li>
<li class="chapter" data-level="1.2.2" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-visualizing-bodily-injury-claims-with-density-plots"><i class="fa fa-check"></i><b>1.2.2</b> Exercise. Visualizing bodily injury claims with density plots</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#summarizing-distributions"><i class="fa fa-check"></i><b>1.3</b> Summarizing distributions</a><ul>
<li class="chapter" data-level="1.3.1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#video-2"><i class="fa fa-check"></i><b>1.3.1</b> Video</a></li>
<li class="chapter" data-level="1.3.2" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-summarizing-bodily-injury-claims-with-box-and-qq-plots"><i class="fa fa-check"></i><b>1.3.2</b> Exercise. Summarizing bodily injury claims with box and qq plots</a></li>
<li class="chapter" data-level="1.3.3" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-effects-on-distributions-of-removing-the-largest-claim"><i class="fa fa-check"></i><b>1.3.3</b> Exercise. Effects on distributions of removing the largest claim</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#transformations"><i class="fa fa-check"></i><b>1.4</b> Transformations</a><ul>
<li class="chapter" data-level="1.4.1" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#video-3"><i class="fa fa-check"></i><b>1.4.1</b> Video</a></li>
<li class="chapter" data-level="1.4.2" data-path="regression-and-the-normal-distribution.html"><a href="regression-and-the-normal-distribution.html#exercise.-distribution-of-transformed-bodily-injury-claims"><i class="fa fa-check"></i><b>1.4.2</b> Exercise. Distribution of transformed bodily injury claims</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html"><i class="fa fa-check"></i><b>2</b> Basic Linear Regression</a><ul>
<li class="chapter" data-level="2.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#correlation"><i class="fa fa-check"></i><b>2.1</b> Correlation</a><ul>
<li class="chapter" data-level="2.1.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#video-exercise.-correlation"><i class="fa fa-check"></i><b>2.1.1</b> Video (Exercise). Correlation</a></li>
<li class="chapter" data-level="2.1.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-correlations-and-the-wisconsin-lottery"><i class="fa fa-check"></i><b>2.1.2</b> Exercise. Correlations and the Wisconsin lottery</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#method-of-least-squares"><i class="fa fa-check"></i><b>2.2</b> Method of least squares</a><ul>
<li class="chapter" data-level="2.2.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#video-exercise.-method-of-least-squares"><i class="fa fa-check"></i><b>2.2.1</b> Video (Exercise). Method of least squares</a></li>
<li class="chapter" data-level="2.2.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-least-squares-fit-using-housing-prices"><i class="fa fa-check"></i><b>2.2.2</b> Exercise. Least squares fit using housing prices</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#understanding-variability"><i class="fa fa-check"></i><b>2.3</b> Understanding variability</a><ul>
<li class="chapter" data-level="2.3.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#video-exercise.-understanding-variability"><i class="fa fa-check"></i><b>2.3.1</b> Video (Exercise). Understanding variability</a></li>
<li class="chapter" data-level="2.3.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-summarizing-measures-of-uncertainty"><i class="fa fa-check"></i><b>2.3.2</b> Exercise. Summarizing measures of uncertainty</a></li>
<li class="chapter" data-level="2.3.3" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-effects-of-linear-transforms-on-measures-of-uncertainty"><i class="fa fa-check"></i><b>2.3.3</b> Exercise. Effects of linear transforms on measures of uncertainty</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#statistical-inference"><i class="fa fa-check"></i><b>2.4</b> Statistical inference</a><ul>
<li class="chapter" data-level="2.4.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#video-exercise.-statistical-inference"><i class="fa fa-check"></i><b>2.4.1</b> Video (Exercise). Statistical inference</a></li>
<li class="chapter" data-level="2.4.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-statistical-inference-and-wisconsin-lottery"><i class="fa fa-check"></i><b>2.4.2</b> Exercise. Statistical inference and Wisconsin lottery</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#diagnostics"><i class="fa fa-check"></i><b>2.5</b> Diagnostics</a><ul>
<li class="chapter" data-level="2.5.1" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#video-exercise.-diagnostics"><i class="fa fa-check"></i><b>2.5.1</b> Video (Exercise). Diagnostics</a></li>
<li class="chapter" data-level="2.5.2" data-path="basic-linear-regression.html"><a href="basic-linear-regression.html#exercise.-assessing-outliers-in-lottery-sales"><i class="fa fa-check"></i><b>2.5.2</b> Exercise. Assessing outliers in lottery sales</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html"><i class="fa fa-check"></i><b>3</b> Multiple Linear Regression (MLR)</a><ul>
<li class="chapter" data-level="3.1" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#method-of-least-squares-1"><i class="fa fa-check"></i><b>3.1</b> Method of least squares</a><ul>
<li class="chapter" data-level="3.1.1" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#video-exercise.-method-of-least-squares-1"><i class="fa fa-check"></i><b>3.1.1</b> Video (Exercise). Method of least squares</a></li>
<li class="chapter" data-level="3.1.2" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#exercise.-least-squares-and-term-life-data"><i class="fa fa-check"></i><b>3.1.2</b> Exercise. Least squares and term life data</a></li>
<li class="chapter" data-level="3.1.3" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#exercise.-interpreting-coefficients-as-proportional-changes"><i class="fa fa-check"></i><b>3.1.3</b> Exercise. Interpreting coefficients as proportional changes</a></li>
<li class="chapter" data-level="3.1.4" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#exercise.-interpreting-coefficients-as-elasticities"><i class="fa fa-check"></i><b>3.1.4</b> Exercise. Interpreting coefficients as elasticities</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#foundations-of-multiple-linear-regresson"><i class="fa fa-check"></i><b>3.2</b> Foundations of multiple linear regresson</a><ul>
<li class="chapter" data-level="3.2.1" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#video-exercise.-foundations-of-multiple-linear-regression"><i class="fa fa-check"></i><b>3.2.1</b> Video (Exercise). Foundations of multiple linear regression</a></li>
<li class="chapter" data-level="3.2.2" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#exercise.-multiple-choice-exercise-on-the-theory-maybeee"><i class="fa fa-check"></i><b>3.2.2</b> Exercise. Multiple choice exercise on the theory… Maybeee</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#statistical-inference-and-multiple-linear-regresson"><i class="fa fa-check"></i><b>3.3</b> Statistical inference and multiple linear regresson</a><ul>
<li class="chapter" data-level="3.3.1" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#video-exercise.-statistical-inference-and-multiple-linear-regression"><i class="fa fa-check"></i><b>3.3.1</b> Video (Exercise). Statistical inference and multiple linear regression</a></li>
<li class="chapter" data-level="3.3.2" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#exercise.-statistical-inference-and-term-life"><i class="fa fa-check"></i><b>3.3.2</b> Exercise. Statistical inference and term life</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#binary-variables"><i class="fa fa-check"></i><b>3.4</b> Binary variables</a><ul>
<li class="chapter" data-level="3.4.1" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#video-exercise.-binary-variables"><i class="fa fa-check"></i><b>3.4.1</b> Video (Exercise). Binary variables</a></li>
<li class="chapter" data-level="3.4.2" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#exercise.-binary-variables-and-term-life"><i class="fa fa-check"></i><b>3.4.2</b> Exercise. Binary variables and term life</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#categorical-variables"><i class="fa fa-check"></i><b>3.5</b> Categorical variables</a><ul>
<li class="chapter" data-level="3.5.1" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#video-exercise.-categorical-variables"><i class="fa fa-check"></i><b>3.5.1</b> Video (Exercise). Categorical variables</a></li>
<li class="chapter" data-level="3.5.2" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#exercise.-categorical-variables-and-wisconsin-hospital-costs"><i class="fa fa-check"></i><b>3.5.2</b> Exercise. Categorical variables and Wisconsin hospital costs</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#general-linear-hypothesis"><i class="fa fa-check"></i><b>3.6</b> General linear hypothesis</a><ul>
<li class="chapter" data-level="3.6.1" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#video-exercise.-hypothesis-testing"><i class="fa fa-check"></i><b>3.6.1</b> Video (Exercise). Hypothesis testing</a></li>
<li class="chapter" data-level="3.6.2" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#exercise.-hypothesis-testing-and-term-life"><i class="fa fa-check"></i><b>3.6.2</b> Exercise. Hypothesis testing and term life</a></li>
<li class="chapter" data-level="3.6.3" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#exercise.-hypothesis-testing-and-wisconsin-hospital-costs"><i class="fa fa-check"></i><b>3.6.3</b> Exercise. Hypothesis testing and Wisconsin hospital costs</a></li>
<li class="chapter" data-level="3.6.4" data-path="multiple-linear-regression-mlr.html"><a href="multiple-linear-regression-mlr.html#exercise.-hypothesis-testing-and-auto-claims"><i class="fa fa-check"></i><b>3.6.4</b> Exercise. Hypothesis testing and auto claims</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="variable-selection.html"><a href="variable-selection.html"><i class="fa fa-check"></i><b>4</b> Variable Selection</a><ul>
<li class="chapter" data-level="4.1" data-path="variable-selection.html"><a href="variable-selection.html#an-iterative-approach-to-data-analysis-and-modeling"><i class="fa fa-check"></i><b>4.1</b> An iterative approach to data analysis and modeling</a><ul>
<li class="chapter" data-level="4.1.1" data-path="variable-selection.html"><a href="variable-selection.html#video-exercise.-an-iterative-approach-to-data-analysis-and-modeling"><i class="fa fa-check"></i><b>4.1.1</b> Video (Exercise). An iterative approach to data analysis and modeling</a></li>
<li class="chapter" data-level="4.1.2" data-path="variable-selection.html"><a href="variable-selection.html#mc-exercise.-an-iterative-approach-to-data-modeling"><i class="fa fa-check"></i><b>4.1.2</b> MC Exercise. An iterative approach to data modeling</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="variable-selection.html"><a href="variable-selection.html#automatic-variable-selection-procedures"><i class="fa fa-check"></i><b>4.2</b> Automatic variable selection procedures</a><ul>
<li class="chapter" data-level="4.2.1" data-path="variable-selection.html"><a href="variable-selection.html#video-exercise.-automatic-variable-selection-procedures"><i class="fa fa-check"></i><b>4.2.1</b> Video (Exercise). Automatic variable selection procedures</a></li>
<li class="chapter" data-level="4.2.2" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-data-snooping-in-stepwise-regression"><i class="fa fa-check"></i><b>4.2.2</b> Exercise. Data-snooping in stepwise regression</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="variable-selection.html"><a href="variable-selection.html#residual-analysis"><i class="fa fa-check"></i><b>4.3</b> Residual analysis</a><ul>
<li class="chapter" data-level="4.3.1" data-path="variable-selection.html"><a href="variable-selection.html#video-exercise.-residual-analysis"><i class="fa fa-check"></i><b>4.3.1</b> Video (Exercise). Residual analysis</a></li>
<li class="chapter" data-level="4.3.2" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-residual-analysis-and-risk-manager-survey"><i class="fa fa-check"></i><b>4.3.2</b> Exercise. Residual analysis and risk manager survey</a></li>
<li class="chapter" data-level="4.3.3" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-added-variable-plot-and-refrigerator-prices"><i class="fa fa-check"></i><b>4.3.3</b> Exercise. Added variable plot and refrigerator prices</a></li>
</ul></li>
<li class="chapter" data-level="4.4" data-path="variable-selection.html"><a href="variable-selection.html#unusual-observations"><i class="fa fa-check"></i><b>4.4</b> Unusual observations</a><ul>
<li class="chapter" data-level="4.4.1" data-path="variable-selection.html"><a href="variable-selection.html#video-exercise.-unusual-observations"><i class="fa fa-check"></i><b>4.4.1</b> Video (Exercise). Unusual observations</a></li>
<li class="chapter" data-level="4.4.2" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-outlier-example"><i class="fa fa-check"></i><b>4.4.2</b> Exercise. Outlier example</a></li>
<li class="chapter" data-level="4.4.3" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-high-leverage-and-risk-manager-survey"><i class="fa fa-check"></i><b>4.4.3</b> Exercise. High leverage and risk manager survey</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="variable-selection.html"><a href="variable-selection.html#collinearity"><i class="fa fa-check"></i><b>4.5</b> Collinearity</a><ul>
<li class="chapter" data-level="4.5.1" data-path="variable-selection.html"><a href="variable-selection.html#video-exercise.-collinearity"><i class="fa fa-check"></i><b>4.5.1</b> Video (Exercise). Collinearity</a></li>
<li class="chapter" data-level="4.5.2" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-collinearity-and-term-life"><i class="fa fa-check"></i><b>4.5.2</b> Exercise. Collinearity and term life</a></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="variable-selection.html"><a href="variable-selection.html#selection-criteria"><i class="fa fa-check"></i><b>4.6</b> Selection criteria</a><ul>
<li class="chapter" data-level="4.6.1" data-path="variable-selection.html"><a href="variable-selection.html#video-exercise.-selection-criteria"><i class="fa fa-check"></i><b>4.6.1</b> Video (Exercise). Selection criteria</a></li>
<li class="chapter" data-level="4.6.2" data-path="variable-selection.html"><a href="variable-selection.html#exercise.-cross-validation-and-term-life"><i class="fa fa-check"></i><b>4.6.2</b> Exercise. Cross-validation and term life</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html"><i class="fa fa-check"></i><b>5</b> Interpreting Regression Results</a><ul>
<li class="chapter" data-level="5.1" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#case-study-meps-health-expenditures"><i class="fa fa-check"></i><b>5.1</b> Case study: MEPS health expenditures</a><ul>
<li class="chapter" data-level="5.1.1" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#video-exercise.-case-study-meps-health-expenditures"><i class="fa fa-check"></i><b>5.1.1</b> Video (Exercise). Case study: MEPS health expenditures</a></li>
<li class="chapter" data-level="5.1.2" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#exercise.-summarizing-data"><i class="fa fa-check"></i><b>5.1.2</b> Exercise. Summarizing data</a></li>
<li class="chapter" data-level="5.1.3" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#exercise.-fit-a-benchmark-multiple-linear-regression-model"><i class="fa fa-check"></i><b>5.1.3</b> Exercise. Fit a benchmark multiple linear regression model</a></li>
<li class="chapter" data-level="5.1.4" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#exercise.-variable-selection"><i class="fa fa-check"></i><b>5.1.4</b> Exercise. Variable selection</a></li>
<li class="chapter" data-level="5.1.5" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#exercise.-model-comparisons-using-cross-validation"><i class="fa fa-check"></i><b>5.1.5</b> Exercise. Model comparisons using cross-validation</a></li>
<li class="chapter" data-level="5.1.6" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#exercise.-out-of-sample-validation"><i class="fa fa-check"></i><b>5.1.6</b> Exercise. Out of sample validation</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#what-the-modeling-procedure-tells-us"><i class="fa fa-check"></i><b>5.2</b> What the modeling procedure tells us</a><ul>
<li class="chapter" data-level="5.2.1" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#video-exercise.-what-the-modeling-procedure-tells-us"><i class="fa fa-check"></i><b>5.2.1</b> Video (Exercise). What the modeling procedure tells us</a></li>
<li class="chapter" data-level="5.2.2" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#mc-exercise.-what-the-modeling-procedure-tells-us"><i class="fa fa-check"></i><b>5.2.2</b> MC Exercise. What the modeling procedure tells us</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#the-importance-of-variable-selection"><i class="fa fa-check"></i><b>5.3</b> The importance of variable selection</a><ul>
<li class="chapter" data-level="5.3.1" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#video-exercise.-the-importance-of-variable-selection"><i class="fa fa-check"></i><b>5.3.1</b> Video (Exercise). The importance of variable selection</a></li>
<li class="chapter" data-level="5.3.2" data-path="interpreting-regression-results.html"><a href="interpreting-regression-results.html#mc-exercise.-principle-of-parsimony"><i class="fa fa-check"></i><b>5.3.2</b> MC Exercise. Principle of parsimony</a></li>
</ul></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/ewfreesRes/RegressModel" target="blank">Regression Modeling Tutorial on GitHub</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Online Tutorial on <code>Regression Modeling with Actuarial and Financial Applications</code></a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="interpreting-regression-results" class="section level1">
<h1><span class="header-section-number">Chapter 5</span> Interpreting Regression Results</h1>
<p><strong>Chapter description</strong></p>
<p>A case study, on determining an individual’s characteristics that influence its health expenditures, illustrates the regression modeling process from start to finish. Subsequently, the chapter summarizes what we learn from the modeling process, underscoring the importance of variable selection.</p>
<div id="case-study-meps-health-expenditures" class="section level2">
<h2><span class="header-section-number">5.1</span> Case study: MEPS health expenditures</h2>
<div id="video-exercise.-case-study-meps-health-expenditures" class="section level3">
<h3><span class="header-section-number">5.1.1</span> Video (Exercise). Case study: MEPS health expenditures</h3>
<div id="learning-objectives-17" class="section level4">
<h4><span class="header-section-number">5.1.1.1</span> Learning Objectives</h4>
<p>In this module, you learn how to:</p>
<ul>
<li></li>
</ul>
</div>
<div id="video-overheads-15" class="section level4">
<h4><span class="header-section-number">5.1.1.2</span> Video Overheads</h4>
<p><strong>Overhead A. MEPS health expenditures</strong></p>
<p>This exercise considers data from the <em>Medical Expenditure Panel Survey</em> (MEPS), conducted by the U.S. Agency of Health Research and Quality. MEPS is a probability survey that provides nationally representative estimates of health care use, expenditures, sources of payment, and insurance coverage for the U.S. civilian population. This survey collects detailed information on individuals of each medical care episode by type of services including physician office visits, hospital emergency room visits, hospital outpatient visits, hospital inpatient stays, all other medical provider visits, and use of prescribed medicines. This detailed information allows one to develop models of health care utilization to predict future expenditures. You can learn more about MEPS at <a href="http://www.meps.ahrq.gov/mepsweb/" class="uri">http://www.meps.ahrq.gov/mepsweb/</a>.</p>
<p>We consider MEPS data from the panels 7 and 8 of 2003 that consists of 18,735 individuals between ages 18 and 65. From this sample, we took a random sample of 2,000 individuals that appear in the file <code>HealthExpend</code>. From this sample, there are 1,352 that had positive outpatient expenditures.</p>
<p>Our dependent variable is the amount of expenditures for outpatient visits, <code>expendop</code>. For MEPS, outpatient events include hospital outpatient department visits, office-based provider visits and emergency room visits excluding dental services. (Dental services, compared to other types of health care services, are more predictable and occur in a more regular basis.) Hospital stays with the same date of admission and discharge, known as “zero-night stays,” were included in outpatient counts and expenditures. (Payments associated with emergency room visits that immediately preceded an inpatient stay were included in the inpatient expenditures. Prescribed medicines that can be linked to hospital admissions were included in inpatient expenditures, not in outpatient utilization.)</p>
<p><strong>Overhead B. Overhead MEPS health expenditures</strong></p>
<p>Data from the Medical Expenditure Panel Survey (MEPS), conducted by the U.S. Agency of Health Research and Quality (AHRQ).</p>
<ul>
<li>A probability survey that provides nationally representative estimates of health care use, expenditures, sources of payment, and insurance coverage for the U.S. civilian population.</li>
<li>Collects detailed information on individuals of each medical care episode by type of services including
<ul>
<li>physician office visits,</li>
<li>hospital emergency room visits,</li>
<li>hospital outpatient visits,</li>
<li>hospital inpatient stays,</li>
<li>all other medical provider visits, and</li>
<li>use of prescribed medicines.</li>
</ul></li>
<li>This detailed information allows one to develop models of health care utilization to predict future expenditures.</li>
<li>We consider MEPS data from the first panel of 2003 and take a random sample of <em>n</em> = 2, 000 individuals between ages 18 and 65.</li>
</ul>
<p><strong>Overhead C. Outcome variable</strong></p>
<p>Our dependent variable is expenditures for outpatient admissions.</p>
<ul>
<li>For MEPS, inpatient admissions include persons who were admitted to a hospital and stayed overnight.</li>
<li>In contrast, outpatient events include hospital outpatient department visits, office-based provider visits and emergency room visits excluding dental services.
<ul>
<li>Hospital stays with the same date of admission and discharge, known as “zero-night stays,” were included in outpatient counts and expenditures.</li>
<li>Payments associated with emergency room visits that immediately preceded an inpatient stay were included in the inpatient expenditures.</li>
<li>Prescribed medicines that can be linked to hospital admissions were included in inpatient expenditures, not in outpatient utilization.</li>
</ul></li>
</ul>
<p><strong>Overhead D. Explanatory variables</strong></p>
<p>9 variables in the database. Here 13 most relevant.</p>
<p><span class="math display">\[
{\small \begin{array}{ll}
expendop    &amp; \text{Amounts of expenditures for outpatient visits} \\
gender      &amp; \text{Indicate gender of patient (=1 if female, =0 if male)} \\
age         &amp; \text{Age in years between 18 and 65 }\\
race        &amp; \text{Race of patient described as Asian, Black, Native, White and other} \\
region      &amp; \text{Region of patient described as WEST, NORTHEAST, MIDWEST and SOUTH} \\
educ        &amp; \text{Level of education received described by words (LHIGHSC, HIGHSCH and COLLEGE)} \\
phstat      &amp; \text{Self-rated physical health status described as EXCE, VGOO, GOOD, FAIR and POOR} \\
mpoor       &amp; \text{Self-rated mental health (=1 if poor or fair, =0 if good to excellent mental health)} \\
anylimit    &amp; \text{Any activity limitation (=1 if any functional/activity limitation, =0 if otherwise)} \\
income      &amp; \text{Income compared to poverty line described as POOR, NPOOR, LINCOME, MINCOME and HINCOME} \\
insure      &amp; \text{Insurance coverage (=1 if covered by public/private health insurance in any month of 1996, =0 otherwise)} \\
usc         &amp; \text{1 if dissatisfied with one&#39;s usual source of care} \\
unemploy    &amp; \text{Employment status of patients} \\
managedcare &amp; \text{1 if enrolled in an HMO or gatekeeper plan} \\
\end{array}}
\]</span></p>
<p><strong>Overhead E. Case study outline</strong></p>
<p>The next series of exercises leads you through an analysis of the steps for understanding a complex data set. Because of the complexity of the data, in each step only a sample of procedures will be executed.</p>
<p>The outline consists of:</p>
<ul>
<li>Summary statistics</li>
<li>Splitting the data into training and testing portions with initial model fits</li>
<li>Selecting variables to be included in the model</li>
</ul>
</div>
</div>
<div id="exercise.-summarizing-data" class="section level3">
<h3><span class="header-section-number">5.1.2</span> Exercise. Summarizing data</h3>
<p><strong>Assignment Text</strong></p>
<p>With a complex dataset, you will probably want to take a look at the structure of the data. You are already familiar with taking a [summary()] of a dataframe which provides summary statistics for many variables. You will see that several variables in this dataframe are categorical, or factor, variables. We can use the <a href="https://www.rdocumentation.org/packages/base/versions/3.5.0/topics/table">table()</a> function to summarize them.</p>
<p>After getting a sense of the distributions of explanatory variables, we want to take a deeper dive into the distribution of the outcome variable, <code>expendop</code>. We will do this by comparing the histograms of the variable to that of its logarithmic version.</p>
<p>To examine relationships of the outcome variable visually, we look to scatterplots for continuous variables (such as <code>age</code>) and boxplots for categorical variables (such as <code>phstat</code>).</p>
<p><strong>Instructions</strong></p>
<ul>
<li>Examine the structure of the <code>meps</code> dataframe using the <a href="https://www.rdocumentation.org/packages/utils/versions/3.5.0/topics/str/">str()</a> function. Also, get a [summary()] of the dataframe.</li>
<li>Examine the distribution of the <code>race</code> variable using the <a href="https://www.rdocumentation.org/packages/base/versions/3.5.0/topics/table">table()</a> function.</li>
<li>Compare the expenditures distribution to its logarithmic version visually via histograms plotted next to another. <code>par(mfrow = c(1, 2))</code> is used to organize the plots you create.</li>
<li>Examine the distribution of logarithmic expenditures in terms of levels of <code>phstat</code> visually using the <a href="https://www.rdocumentation.org/packages/graphics/versions/3.5.0/topics/boxplot/">boxplot()</a> function.</li>
<li>Examine the relationship of age versus logarithmic expenditures using a scatter plot. Superimpose a local fitting line using the <a href="https://www.rdocumentation.org/packages/graphics/versions/3.5.0/topics/lines">lines()</a> and <a href="https://www.rdocumentation.org/packages/stats/versions/3.5.0/topics/lowess">lowess()</a> functions.</li>
</ul>
<p><strong>Hint</strong></p>
<p><strong>Pre-exercise code</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Pre-exercise code</span>
meps &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;CSVData</span><span class="ch">\\</span><span class="st">HealthMeps.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)
<span class="co">#meps &lt;- read.csv(&quot;https://assets.datacamp.com/production/repositories/2610/datasets/7b7dab6d0c528e4cd2f8d0e0fc7824a254429bf8/HealthMeps.csv&quot;, header = TRUE)</span></code></pre></div>
<p><strong>Sample_code</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">`</span><span class="dt">@sample_code</span><span class="st">`</span>
<span class="co"># Examine the structure and get a summary of the `meps` dataframe </span>
<span class="kw">str</span>(___)
<span class="kw">summary</span>(___)

<span class="co"># Examine the distribution of the `race` variable </span>
<span class="kw">table</span>(___)

<span class="co"># Compare the expenditures distribution to its logarithmic version visually</span>
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))
<span class="kw">hist</span>(___, <span class="dt">main =</span> <span class="st">&quot;&quot;</span>, <span class="dt">xlab =</span> <span class="st">&quot;outpatient expenditures&quot;</span>)
<span class="kw">hist</span>(<span class="kw">log</span>(___), <span class="dt">main =</span> <span class="st">&quot;&quot;</span>, <span class="dt">xlab =</span> <span class="st">&quot;log expenditures&quot;</span>)

<span class="co"># Examine the distribution of logarithmic expenditures in terms of levels of `phstat` </span>
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))
meps<span class="op">$</span>logexpend &lt;-<span class="st"> </span><span class="kw">log</span>(meps<span class="op">$</span>expendop)
<span class="kw">boxplot</span>(logexpend <span class="op">~</span><span class="st"> </span>___, <span class="dt">data =</span> meps, <span class="dt">main =</span> <span class="st">&quot;boxplot of log expend&quot;</span>)

<span class="co"># Examine the relationship of age versus logarithmic expenditures. Superimpose a local fitting line.</span>
<span class="kw">plot</span>(___,___, <span class="dt">xlab =</span> <span class="st">&quot;age&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;log expend&quot;</span>)
<span class="kw">lines</span>(<span class="kw">lowess</span>(___, ___), <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><strong>Solution</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Solution</span>
<span class="kw">str</span>(meps)
<span class="kw">summary</span>(meps)
<span class="kw">table</span>(meps<span class="op">$</span>race)
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))
<span class="kw">hist</span>(meps<span class="op">$</span>expendop, <span class="dt">main =</span> <span class="st">&quot;&quot;</span>, <span class="dt">xlab =</span> <span class="st">&quot;outpatient expenditures&quot;</span>)
<span class="kw">hist</span>(<span class="kw">log</span>(meps<span class="op">$</span>expendop), <span class="dt">main =</span> <span class="st">&quot;&quot;</span>, <span class="dt">xlab =</span> <span class="st">&quot;log expenditures&quot;</span>)
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">1</span>))
meps<span class="op">$</span>logexpend &lt;-<span class="st"> </span><span class="kw">log</span>(meps<span class="op">$</span>expendop)
<span class="kw">boxplot</span>(logexpend <span class="op">~</span><span class="st"> </span>phstat, <span class="dt">data =</span> meps, <span class="dt">main =</span> <span class="st">&quot;boxplot of log expend&quot;</span>)
<span class="kw">plot</span>(meps<span class="op">$</span>age,meps<span class="op">$</span>logexpend, <span class="dt">xlab =</span> <span class="st">&quot;age&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;log expend&quot;</span>)
<span class="kw">lines</span>(<span class="kw">lowess</span>(meps<span class="op">$</span>age, meps<span class="op">$</span>logexpend), <span class="dt">col=</span><span class="st">&quot;red&quot;</span>)</code></pre></div>
<p><strong>Submission correctness test (SCT)</strong></p>
<p>success_msg(“Excellent! Summarizing data, without reference to a model, is probably the most time-consuming part of any predictive modeling exercise. Summary statistics are also a key part of any report as they illustrate features of the data that are accessible to a broad audience.”)</p>
</div>
<div id="exercise.-fit-a-benchmark-multiple-linear-regression-model" class="section level3">
<h3><span class="header-section-number">5.1.3</span> Exercise. Fit a benchmark multiple linear regression model</h3>
<p><strong>Assignment Text</strong></p>
<p>As part of the pre-processing for the model fitting, we will split the data into training and test subsamples. For this exercise, we use a 75/25 split although other choices are certainly suitable. Some analysts prefer to do this splitting before looking at the data. Another approach, adopted here, is that the final report typically contains summary statistcs of the entire data set and so it makes sense to do so when examining summary statistics.</p>
<p>We start by fitting a benchmark model. It is common to use all available explanatory variables with the outcome on the original scale and so we use this as our benchmark model. This exercise shows that when you <a href="https://www.rdocumentation.org/packages/graphics/versions/3.5.0/topics/plot">plot()</a> a fitted linear regression model in <code>R</code>, the result provides four graphs that you have seen before. These can be useful for identifying an appropriate model.</p>
<p><strong>Instructions</strong></p>
<ul>
<li>Randomly split the data into a training and a testing data sets. Use 75% for the training, 25% for the testing.</li>
<li>Fit a full model using <code>expendop</code> as the outcome and all explanatory variables. Summarize the results of this model fitting.</li>
<li>You can <a href="https://www.rdocumentation.org/packages/graphics/versions/3.5.0/topics/plot">plot()</a> the fitted model to view several diagnostic plots. These plots provide evidence that expenditures may not be the best scale for linear regression.</li>
<li>Fit a full model using <code>logexpend</code> as the outcome and all explanatory variables and summarize the fit. Use the <a href="">plot()</a> function for evidence that this variable is more suited for linear regression methods than expenditures on the original scale.</li>
</ul>
<p><strong>Hint</strong></p>
<p>A <code>plot</code> of a regression object such as plot(mlr) provides four diagnostic plots. These can be organized as a 2 by 2 array using <code>par(mfrow = c(2, 2))</code>.</p>
<p><strong>Pre-exercise code</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Pre-exercise code</span>
meps &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;CSVData</span><span class="ch">\\</span><span class="st">HealthMeps.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)
<span class="co">#meps &lt;- read.csv(&quot;https://assets.datacamp.com/production/repositories/2610/datasets/7b7dab6d0c528e4cd2f8d0e0fc7824a254429bf8/HealthMeps.csv&quot;, header = TRUE)</span>
meps<span class="op">$</span>logexpend &lt;-<span class="st"> </span><span class="kw">log</span>(meps<span class="op">$</span>expendop)</code></pre></div>
<p><strong>Sample_code</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">`</span><span class="dt">@sample_code</span><span class="st">`</span>
<span class="co"># Randomly split the data into a training and a testing data sets. Use 75\% for the training, 25\% for the testing.</span>
n &lt;-<span class="st"> </span><span class="kw">nrow</span>(meps)
<span class="kw">set.seed</span>(<span class="dv">12347</span>)
shuffled_meps &lt;-<span class="st"> </span>meps[<span class="kw">sample</span>(n), ]
train_indices &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw">round</span>(<span class="fl">0.75</span> <span class="op">*</span><span class="st"> </span>n)
train_meps    &lt;-<span class="st"> </span>shuffled_meps[train_indices, ]
test_indices  &lt;-<span class="st"> </span>(<span class="kw">round</span>(<span class="fl">0.25</span> <span class="op">*</span><span class="st"> </span>n) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)<span class="op">:</span>n
test_meps     &lt;-<span class="st"> </span>shuffled_meps[test_indices, ]

<span class="co"># Fit a full model using `expendop` as the outcome and all explanatory variables. Summarize the results of this model fitting.</span>
meps_mlr1 &lt;-<span class="st"> </span><span class="kw">lm</span>(___ <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>race <span class="op">+</span><span class="st"> </span>region <span class="op">+</span><span class="st"> </span>educ <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>mpoor <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>income <span class="op">+</span><span class="st"> </span>insure <span class="op">+</span><span class="st"> </span>usc <span class="op">+</span><span class="st"> </span>unemploy <span class="op">+</span><span class="st"> </span>managedcare, <span class="dt">data =</span> ___)
<span class="kw">summary</span>(meps_mlr1)

<span class="co"># Provide diagnostic plots of the fitted model. </span>
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))
<span class="kw">plot</span>(___)

<span class="co"># Fit a full model using `logexpend` as the outcome and all explanatory variables. Summarize the fit and examine diagnostic plots of the fitted model. </span>
meps_mlr2 &lt;-<span class="st"> </span><span class="kw">lm</span>(___ <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>race <span class="op">+</span><span class="st"> </span>region <span class="op">+</span><span class="st"> </span>educ <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>mpoor <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>income <span class="op">+</span><span class="st"> </span>insure <span class="op">+</span><span class="st"> </span>usc <span class="op">+</span><span class="st"> </span>unemploy <span class="op">+</span><span class="st"> </span>managedcare, <span class="dt">data =</span> ___)
<span class="kw">summary</span>(meps_mlr2)
<span class="kw">plot</span>(meps_mlr2)</code></pre></div>
<p><strong>Solution</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Solution</span>

<span class="co"># Split the sample into a `training` and `test` data</span>
n &lt;-<span class="st"> </span><span class="kw">nrow</span>(meps)
<span class="kw">set.seed</span>(<span class="dv">12347</span>)
shuffled_meps &lt;-<span class="st"> </span>meps[<span class="kw">sample</span>(n), ]
train_indices &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw">round</span>(<span class="fl">0.75</span> <span class="op">*</span><span class="st"> </span>n)
train_meps    &lt;-<span class="st"> </span>shuffled_meps[train_indices, ]
test_indices  &lt;-<span class="st"> </span>(<span class="kw">round</span>(<span class="fl">0.25</span> <span class="op">*</span><span class="st"> </span>n) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)<span class="op">:</span>n
test_meps     &lt;-<span class="st"> </span>shuffled_meps[test_indices, ]

meps_mlr1 &lt;-<span class="st"> </span><span class="kw">lm</span>(expendop <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>race <span class="op">+</span><span class="st"> </span>region <span class="op">+</span><span class="st"> </span>educ <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>mpoor <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>income <span class="op">+</span><span class="st"> </span>insure <span class="op">+</span><span class="st"> </span>usc <span class="op">+</span><span class="st"> </span>unemploy <span class="op">+</span><span class="st"> </span>managedcare, <span class="dt">data =</span> train_meps)
<span class="kw">summary</span>(meps_mlr1)
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">2</span>, <span class="dv">2</span>))
<span class="kw">plot</span>(meps_mlr1)

meps_mlr2 &lt;-<span class="st"> </span><span class="kw">lm</span>(logexpend <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>race <span class="op">+</span><span class="st"> </span>region <span class="op">+</span><span class="st"> </span>educ <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>mpoor <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>income <span class="op">+</span><span class="st"> </span>insure <span class="op">+</span><span class="st"> </span>usc <span class="op">+</span><span class="st"> </span>unemploy <span class="op">+</span><span class="st"> </span>managedcare, <span class="dt">data =</span> train_meps)
<span class="kw">summary</span>(meps_mlr2)
<span class="kw">plot</span>(meps_mlr2)</code></pre></div>
<p><strong>Submission correctness test (SCT)</strong></p>
<p>success_msg(“Excellent! You may have compared the four diagnostic graphs from the MLR model fit of ‘expend’ to those created using the same procedure but with logarithmic expenditures as the outcome. This provides another piece of evidence that log expenditures are more suitable for regression modeling. Using logarithmic outcomes is a common feature of actuarial applications but can be difficult to diagnose and interpret without practice.”)</p>
</div>
<div id="exercise.-variable-selection" class="section level3">
<h3><span class="header-section-number">5.1.4</span> Exercise. Variable selection</h3>
<p><strong>Assignment Text</strong></p>
<p>Modeling building can be approached using a “ground-up” strategy, where the analyst introduces a variable, examines residuls from a regression fit, and then seeks to understand the relationship between these residuals and other available variables so that these variables might be added to the model.</p>
<p>Another approach is a “top-down” strategy where all available variables are entered into a model and unnecessary variables are pruned from the model. Both approaches are helpful when using data to specify models. This exercise illustrates the latter approach, using the [step()] function to help narrow our search for the best fitting model.</p>
<p><strong>Instructions</strong></p>
<p>From our prior work, the training dataframe <code>train_meps</code> has already been loaded in. A multiple linear regression model fit object <code>meps_mlr2</code> is available that summarizes a fit of <code>logexpend</code> as the outcome variable using all 13 explanatory variables.</p>
<ul>
<li>Use the <a href="https://www.rdocumentation.org/packages/stats/versions/3.5.0/topics/step">step()</a> function function to drop unnecessary variables from the full fitted model summarized in the object <code>meps_mlr2</code> and summarize this recommended model.</li>
<li>As an alternative, use the explanatory variables in the recommended model and add the varibles <code>phstat</code>. Summarize the fit and note that statistical significance of the new variable.</li>
<li>You have been reminded by your boss that use of the variable <code>gender</code> is unsuitable for actuarial pricing purposes. As an another alternative, drop <code>gender</code> from the recommended model (still keeping <code>phstat</code>). Note the statistical significance of the variable <code>usc</code>with this fitted model.</li>
</ul>
<p><strong>Hint</strong></p>
<p><strong>Pre-exercise code</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Pre-exercise code</span>
meps &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;CSVData</span><span class="ch">\\</span><span class="st">HealthMeps.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)
<span class="co">#meps &lt;- read.csv(&quot;https://assets.datacamp.com/production/repositories/2610/datasets/7b7dab6d0c528e4cd2f8d0e0fc7824a254429bf8/HealthMeps.csv&quot;, header = TRUE)</span>
meps<span class="op">$</span>logexpend &lt;-<span class="st"> </span><span class="kw">log</span>(meps<span class="op">$</span>expendop)
<span class="co"># Split the sample into a `training` and `test` data</span>
n &lt;-<span class="st"> </span><span class="kw">nrow</span>(meps)
<span class="kw">set.seed</span>(<span class="dv">12347</span>)
shuffled_meps &lt;-<span class="st"> </span>meps[<span class="kw">sample</span>(n), ]
train_indices &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw">round</span>(<span class="fl">0.75</span> <span class="op">*</span><span class="st"> </span>n)
train_meps    &lt;-<span class="st"> </span>shuffled_meps[train_indices, ]
test_indices  &lt;-<span class="st"> </span>(<span class="kw">round</span>(<span class="fl">0.25</span> <span class="op">*</span><span class="st"> </span>n) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)<span class="op">:</span>n
test_meps     &lt;-<span class="st"> </span>shuffled_meps[test_indices, ]</code></pre></div>
<p><strong>Sample_code</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">`</span><span class="dt">@sample_code</span><span class="st">`</span>
meps_mlr2 &lt;-<span class="st"> </span><span class="kw">lm</span>(logexpend <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>race <span class="op">+</span><span class="st"> </span>region <span class="op">+</span><span class="st"> </span>educ <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>mpoor <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>income <span class="op">+</span><span class="st"> </span>insure <span class="op">+</span><span class="st"> </span>usc <span class="op">+</span><span class="st"> </span>unemploy <span class="op">+</span><span class="st"> </span>managedcare, <span class="dt">data =</span> train_meps)
<span class="co"># Use the step() to drop unnecessary variables from the full fitted model summarized in the object `meps_mlr2` and summarize this recommended model.</span>
model_stepwise &lt;-<span class="st"> </span><span class="kw">step</span>(meps_mlr2, <span class="dt">data =</span> ___, <span class="dt">direction=</span> <span class="st">&quot;both&quot;</span>, <span class="dt">k =</span> <span class="kw">log</span>(<span class="kw">nrow</span>(X)), <span class="dt">trace =</span> <span class="dv">0</span>) 
<span class="kw">summary</span>(model_stepwise)

<span class="co"># As an alternative, use the explanatory variables in the recommended model and add the varibles `mpoor`. Summarize the fit  and note that statistical significance of the new variable.</span>
meps_mlr4 &lt;-<span class="st"> </span><span class="kw">lm</span>(___ <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>insure  <span class="op">+</span><span class="st"> </span>___, <span class="dt">data =</span> train_meps)
<span class="kw">summary</span>(meps_mlr4)

<span class="co"># You have been reminded by your boss that use of the variable `gender` is unsuitable for actuarial pricing purposes. As an another alternative, drop `gender` from the recommended model (still keeping `mpoor`). Note the statistical significance of the variable `usc`with this fitted model.</span>
meps_mlr5 &lt;-<span class="st"> </span><span class="kw">lm</span>(logexpend <span class="op">~</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>insure  <span class="op">+</span><span class="st"> </span>___, <span class="dt">data =</span> train_meps)
<span class="kw">summary</span>(___)</code></pre></div>
<p><strong>Solution</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Solution</span>
meps_mlr2 &lt;-<span class="st"> </span><span class="kw">lm</span>(logexpend <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>race <span class="op">+</span><span class="st"> </span>region <span class="op">+</span><span class="st"> </span>educ <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>mpoor <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>income <span class="op">+</span><span class="st"> </span>insure <span class="op">+</span><span class="st"> </span>usc <span class="op">+</span><span class="st"> </span>unemploy <span class="op">+</span><span class="st"> </span>managedcare, <span class="dt">data =</span> train_meps)
<span class="co">#library(Rcmdr)</span>
<span class="co">#temp &lt;- stepwise(meps_mlr2, direction = &#39;backward/forward&#39;)</span>
model_stepwise &lt;-<span class="st"> </span><span class="kw">step</span>(meps_mlr2, <span class="dt">data =</span> X, <span class="dt">direction=</span> <span class="st">&quot;both&quot;</span>, <span class="dt">k =</span> <span class="kw">log</span>(<span class="kw">nrow</span>(X)), <span class="dt">trace =</span> <span class="dv">0</span>) 
<span class="kw">summary</span>(model_stepwise)
meps_mlr3 &lt;-<span class="st"> </span><span class="kw">lm</span>(logexpend <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>insure , <span class="dt">data =</span> train_meps)
<span class="kw">summary</span>(meps_mlr3)
meps_mlr4 &lt;-<span class="st"> </span><span class="kw">lm</span>(logexpend <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>insure  <span class="op">+</span><span class="st"> </span>mpoor, <span class="dt">data =</span> train_meps)
<span class="kw">summary</span>(meps_mlr4)
meps_mlr5 &lt;-<span class="st"> </span><span class="kw">lm</span>(logexpend <span class="op">~</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>insure  <span class="op">+</span><span class="st"> </span>mpoor, <span class="dt">data =</span> train_meps)
<span class="kw">summary</span>(meps_mlr5)

<span class="co"># par(mfrow = c(2, 2))</span>
<span class="co"># plot(meps_mlr3)</span>
<span class="co"># </span>
<span class="co"># meps_mlr4 &lt;- lm(logexpend ~ gender + age + mpoor + anylimit + insure + usc  + phstat, data = train_meps)</span>
<span class="co"># summary(meps_mlr4)</span>
<span class="co"># </span>
<span class="co"># </span>
<span class="co"># meps_mlr5 &lt;- lm(logexpend ~ age  + anylimit + mpoor + insure  + usc  + phstat, data = train_meps)</span>
<span class="co"># summary(meps_mlr5)</span>
<span class="co"># anova(meps_mlr4, meps_mlr5)</span>
<span class="co"># </span>
<span class="co"># #boxplot(train_meps$logexpend ~ train_meps$phstat*train_meps$usc)</span></code></pre></div>
<p><strong>Submission correctness test (SCT)</strong></p>
<p>success_msg(“Excellent! Sometimes variables may have good predictive power but are unacceptable for policy purposes - in insurance, ethnicity and sometimes sex are good examples. This implies that model interpretation can be just as important as the ability to predict.”)</p>
</div>
<div id="exercise.-model-comparisons-using-cross-validation" class="section level3">
<h3><span class="header-section-number">5.1.5</span> Exercise. Model comparisons using cross-validation</h3>
<p><strong>Assignment Text</strong></p>
<p>To compare alternative models, you decide to utilize cross-validation. For this exercise, you split the training sample into six subsamples of approximately equal size.</p>
<p>In the sample code, the cross-validation procedure has been summarized into a function that you can call. The input to the function is a list of variables that you select as your model explanatory variables. With this function, you can readily test several candidate models.</p>
<p><strong>Instructions</strong></p>
<ul>
<li>Run the cross validation (<code>crossvalfct</code>) function using the explanatory variables suggested by the stepwise function.</li>
<li>Run the function again but adding the <code>mpoor</code> variable</li>
<li>Run the function again but omitting the <code>gender</code> variable</li>
</ul>
<p>Note which model is suggested by the cross validation function.</p>
<p><strong>Hint</strong></p>
<p>The cross validation function of this is very similar to the one we did earlier. Different number of subsamples, different test/training data and a different outcome variable. Except for these minor changes, it is the same function that we worked with earlier.</p>
<p><strong>Pre-exercise code</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Pre-exercise code</span>
meps &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;CSVData</span><span class="ch">\\</span><span class="st">HealthMeps.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)
<span class="co">#meps &lt;- read.csv(&quot;https://assets.datacamp.com/production/repositories/2610/datasets/7b7dab6d0c528e4cd2f8d0e0fc7824a254429bf8/HealthMeps.csv&quot;, header = TRUE)</span>
meps<span class="op">$</span>logexpend &lt;-<span class="st"> </span><span class="kw">log</span>(meps<span class="op">$</span>expendop)
<span class="co"># Split the sample into a `training` and `test` data</span>
n &lt;-<span class="st"> </span><span class="kw">nrow</span>(meps)
<span class="kw">set.seed</span>(<span class="dv">12347</span>)
shuffled_meps &lt;-<span class="st"> </span>meps[<span class="kw">sample</span>(n), ]
train_indices &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw">round</span>(<span class="fl">0.75</span> <span class="op">*</span><span class="st"> </span>n)
train_meps    &lt;-<span class="st"> </span>shuffled_meps[train_indices, ]
test_indices  &lt;-<span class="st"> </span>(<span class="kw">round</span>(<span class="fl">0.25</span> <span class="op">*</span><span class="st"> </span>n) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)<span class="op">:</span>n
test_meps     &lt;-<span class="st"> </span>shuffled_meps[test_indices, ]

## Cross - Validation

crossvalfct &lt;-<span class="st"> </span><span class="cf">function</span>(explvars){
  cvdata   &lt;-<span class="st"> </span>train_meps[, <span class="kw">c</span>(<span class="st">&quot;logexpend&quot;</span>, explvars)]
  crossval &lt;-<span class="st"> </span><span class="dv">0</span>
  <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="op">:</span><span class="dv">6</span>) {
    indices &lt;-<span class="st"> </span>(((i<span class="op">-</span><span class="dv">1</span>) <span class="op">*</span><span class="st"> </span><span class="kw">round</span>((<span class="dv">1</span><span class="op">/</span><span class="dv">6</span>)<span class="op">*</span><span class="kw">nrow</span>(cvdata))) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)<span class="op">:</span>((i<span class="op">*</span><span class="kw">round</span>((<span class="dv">1</span><span class="op">/</span><span class="dv">6</span>) <span class="op">*</span><span class="st"> </span><span class="kw">nrow</span>(cvdata))))
    <span class="co"># Exclude them from the train set</span>
    train_mlr &lt;-<span class="st"> </span><span class="kw">lm</span>(logexpend <span class="op">~</span><span class="st"> </span>., <span class="dt">data =</span> cvdata[<span class="op">-</span>indices,])
    <span class="co"># Include them in the test set</span>
    test  &lt;-<span class="st"> </span><span class="kw">data.frame</span>(cvdata[indices, explvars])
    <span class="kw">names</span>(test)  &lt;-<span class="st"> </span>explvars
    predict_test &lt;-<span class="st"> </span><span class="kw">exp</span>(<span class="kw">predict</span>(train_mlr, test))
    <span class="co"># Compare predicted to held-out and summarize</span>
    predict_err  &lt;-<span class="st"> </span><span class="kw">exp</span>(cvdata[indices, <span class="st">&quot;logexpend&quot;</span>]) <span class="op">-</span><span class="st"> </span>predict_test
    crossval &lt;-<span class="st"> </span>crossval <span class="op">+</span><span class="st"> </span><span class="kw">sum</span>(<span class="kw">abs</span>(predict_err))
  }
  crossval<span class="op">/</span><span class="dv">1000000</span>
}</code></pre></div>
<p><strong>Sample_code</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">`</span><span class="dt">@sample_code</span><span class="st">`</span>
<span class="co"># Run the cross validation (`crossvalfct`) function using the explanatory variables suggested by the stepwise function.</span>
explvars &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;gender&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;phstat&quot;</span>, <span class="st">&quot;anylimit&quot;</span>, <span class="st">&quot;insure&quot;</span>)
<span class="kw">crossvalfct</span>(explvars)

<span class="co"># Run the function again but adding the `mpoor` variable</span>
explvars &lt;-<span class="st"> </span><span class="kw">c</span>(___)
<span class="kw">crossvalfct</span>(explvars)

<span class="co"># Run the function again but omitting the `gender` variable</span>
explvars &lt;-<span class="st"> </span><span class="kw">c</span>( ___)
<span class="kw">crossvalfct</span>(explvars)</code></pre></div>
<p><strong>Solution</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co">#Solution</span>

explvars &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;gender&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;phstat&quot;</span>, <span class="st">&quot;anylimit&quot;</span>, <span class="st">&quot;insure&quot;</span>)
<span class="kw">crossvalfct</span>(explvars)
explvars &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;gender&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;phstat&quot;</span>, <span class="st">&quot;anylimit&quot;</span>, <span class="st">&quot;insure&quot;</span>, <span class="st">&quot;mpoor&quot;</span>)
<span class="kw">crossvalfct</span>(explvars)
explvars &lt;-<span class="st"> </span><span class="kw">c</span>( <span class="st">&quot;age&quot;</span>, <span class="st">&quot;phstat&quot;</span>, <span class="st">&quot;anylimit&quot;</span>, <span class="st">&quot;insure&quot;</span>, <span class="st">&quot;mpoor&quot;</span>)
<span class="kw">crossvalfct</span>(explvars)</code></pre></div>
<p><strong>Submission correctness test (SCT)</strong></p>
<p>success_msg(“Excellent! Cross-validation has become an essential piece of the data analysts toolkit. Good that you now have additional experience with it.”)</p>
</div>
<div id="exercise.-out-of-sample-validation" class="section level3">
<h3><span class="header-section-number">5.1.6</span> Exercise. Out of sample validation</h3>
<p><strong>Assignment Text</strong></p>
<p>From our prior work, the training <code>train_meps</code> and test <code>test_meps</code> dataframes have already been loaded in. We think our best model is based on logarithmic expenditures as the outcome and the following explanatory variables:</p>
<pre><code>explvars3 &lt;- c(&quot;gender&quot;, &quot;age&quot;, &quot;phstat&quot;, &quot;anylimit&quot;, &quot;insure&quot;, &quot;mpoor&quot;)</code></pre>
<p>We will compare this to a benchmark model that is based on expenditures as the outcome and all 13 explanatory variables</p>
<pre><code>explvars4 &lt;- c(explvars3, &quot;race&quot;, &quot;income&quot;, &quot;region&quot;, &quot;educ&quot;, &quot;unemploy&quot;, &quot;managedcare&quot;, &quot;usc&quot;)</code></pre>
<p>The comparisons will be based on expenditures in dollars using the held-out validation sample.</p>
<p><strong>Instructions</strong></p>
<ul>
<li>Use the training sample to fit a linear model with <code>logexpend</code> and explanatory variables listed in <code>explvars3</code></li>
<li>Predict expenditures (not logged) for the test data and summarize the fit using the sum of absolute prediction errors.</li>
<li>Use the training sample to fit a benchmark linear model with <code>expendop</code> and explanatory variables listed in <code>explvars4</code></li>
<li>Predict expenditures for the test data and summarize the fit for the benchmark model using the sum of absolute prediction errors.</li>
<li>Compare the predictions of the models graphically.</li>
</ul>
<p><strong>Hint</strong></p>
<p><strong>Pre-exercise code</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Pre-exercise code</span>
meps &lt;-<span class="st"> </span><span class="kw">read.csv</span>(<span class="st">&quot;CSVData</span><span class="ch">\\</span><span class="st">HealthMeps.csv&quot;</span>, <span class="dt">header =</span> <span class="ot">TRUE</span>)
<span class="co">#meps &lt;- read.csv(&quot;https://assets.datacamp.com/production/repositories/2610/datasets/7b7dab6d0c528e4cd2f8d0e0fc7824a254429bf8/HealthMeps.csv&quot;, header = TRUE)</span>
meps<span class="op">$</span>logexpend &lt;-<span class="st"> </span><span class="kw">log</span>(meps<span class="op">$</span>expendop)
<span class="co"># Split the sample into a `training` and `test` data</span>
n &lt;-<span class="st"> </span><span class="kw">nrow</span>(meps)
<span class="kw">set.seed</span>(<span class="dv">12347</span>)
shuffled_meps &lt;-<span class="st"> </span>meps[<span class="kw">sample</span>(n), ]
train_indices &lt;-<span class="st"> </span><span class="dv">1</span><span class="op">:</span><span class="kw">round</span>(<span class="fl">0.75</span> <span class="op">*</span><span class="st"> </span>n)
train_meps    &lt;-<span class="st"> </span>shuffled_meps[train_indices, ]
test_indices  &lt;-<span class="st"> </span>(<span class="kw">round</span>(<span class="fl">0.25</span> <span class="op">*</span><span class="st"> </span>n) <span class="op">+</span><span class="st"> </span><span class="dv">1</span>)<span class="op">:</span>n
test_meps     &lt;-<span class="st"> </span>shuffled_meps[test_indices, ]
explvars3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;gender&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;race&quot;</span>, <span class="st">&quot;mpoor&quot;</span>, <span class="st">&quot;anylimit&quot;</span>, <span class="st">&quot;income&quot;</span>, <span class="st">&quot;insure&quot;</span>, <span class="st">&quot;usc&quot;</span>)
explvars4 &lt;-<span class="st"> </span><span class="kw">c</span>(explvars3, <span class="st">&quot;region&quot;</span>, <span class="st">&quot;educ&quot;</span>, <span class="st">&quot;phstat&quot;</span>, <span class="st">&quot;unemploy&quot;</span>, <span class="st">&quot;managedcare&quot;</span>)</code></pre></div>
<p><strong>Sample_code</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="st">`</span><span class="dt">@sample_code</span><span class="st">`</span>
<span class="co"># Regress `logexpend` on the explanatory variables listed in `explvars3`</span>
meps_mlr3 &lt;-<span class="st"> </span><span class="kw">lm</span>(logexpend <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>anylimit  <span class="op">+</span><span class="st"> </span>insure <span class="op">+</span><span class="st"> </span>mpoor, <span class="dt">data =</span> train_meps)

<span class="co"># Predict expenditures (not logged) and summarize using the sum of absolute prediction errors.</span>
explvars3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;gender&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;phstat&quot;</span>, <span class="st">&quot;anylimit&quot;</span>, <span class="st">&quot;insure&quot;</span>, <span class="st">&quot;mpoor&quot;</span>)
predict_meps3 &lt;-<span class="st"> </span>test_meps[,explvars3]
predict_mlr3  &lt;-<span class="st"> </span><span class="kw">exp</span>(<span class="kw">predict</span>(meps_mlr3, predict_meps3))
predict_err_mlr3 &lt;-<span class="st"> </span>test_meps<span class="op">$</span>expendop <span class="op">-</span><span class="st"> </span>predict_mlr3
sape3     &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="kw">abs</span>(predict_err_mlr3))<span class="op">/</span><span class="dv">1000</span>

<span class="co"># Regress `expendop` on all 13 explanatory variables</span>
meps_mlr4 &lt;-<span class="st"> </span><span class="kw">lm</span>(___<span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>race <span class="op">+</span><span class="st"> </span>region <span class="op">+</span><span class="st"> </span>educ <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>mpoor <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>income <span class="op">+</span><span class="st"> </span>insure <span class="op">+</span><span class="st"> </span>usc <span class="op">+</span><span class="st"> </span>unemploy <span class="op">+</span><span class="st"> </span>managedcare, <span class="dt">data =</span> train_meps)

<span class="co"># Predict expenditures and summarize using the sum of absolute prediction errors.</span>
predict_meps4 &lt;-<span class="st"> </span>test_meps[,explvars4]
predict_mlr4  &lt;-<span class="st"> </span><span class="kw">predict</span>(meps_mlr4, predict_meps4)
predict_err_mlr4 &lt;-<span class="st"> </span>test_meps<span class="op">$</span>expendop <span class="op">-</span><span class="st"> </span>predict_mlr4
sape4     &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="kw">abs</span>(predict_err_mlr4))<span class="op">/</span><span class="dv">1000</span>
sape3;sape4

<span class="co"># Compare the predictions of the models graphically.</span>
<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))
<span class="kw">plot</span>(predict_err_mlr4, predict_err_mlr3, <span class="dt">xlab =</span> <span class="st">&quot;Benchmark Predict Error&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;MLR Predict Error&quot;</span>)
<span class="kw">plot</span>(predict_mlr3, test_meps<span class="op">$</span>expendop, <span class="dt">xlab =</span> <span class="st">&quot;MLR Predicts&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Held Out Expends&quot;</span>)</code></pre></div>
<p><strong>Solution</strong></p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Solution</span>
meps_mlr3 &lt;-<span class="st"> </span><span class="kw">lm</span>(logexpend <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>anylimit  <span class="op">+</span><span class="st"> </span>insure <span class="op">+</span><span class="st"> </span>mpoor, <span class="dt">data =</span> train_meps)
predict_meps3 &lt;-<span class="st"> </span>test_meps[,explvars3]
explvars3 &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;gender&quot;</span>, <span class="st">&quot;age&quot;</span>, <span class="st">&quot;phstat&quot;</span>, <span class="st">&quot;anylimit&quot;</span>, <span class="st">&quot;insure&quot;</span>, <span class="st">&quot;mpoor&quot;</span>)
predict_meps3 &lt;-<span class="st"> </span>test_meps[,explvars3]
predict_mlr3  &lt;-<span class="st"> </span><span class="kw">exp</span>(<span class="kw">predict</span>(meps_mlr3, predict_meps3))
predict_err_mlr3 &lt;-<span class="st"> </span>test_meps<span class="op">$</span>expendop <span class="op">-</span><span class="st"> </span>predict_mlr3
sape3     &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="kw">abs</span>(predict_err_mlr3))<span class="op">/</span><span class="dv">1000</span>

meps_mlr4 &lt;-<span class="st"> </span><span class="kw">lm</span>(expendop <span class="op">~</span><span class="st"> </span>gender <span class="op">+</span><span class="st"> </span>age <span class="op">+</span><span class="st"> </span>race <span class="op">+</span><span class="st"> </span>region <span class="op">+</span><span class="st"> </span>educ <span class="op">+</span><span class="st"> </span>phstat <span class="op">+</span><span class="st"> </span>mpoor <span class="op">+</span><span class="st"> </span>anylimit <span class="op">+</span><span class="st"> </span>income <span class="op">+</span><span class="st"> </span>insure <span class="op">+</span><span class="st"> </span>usc <span class="op">+</span><span class="st"> </span>unemploy <span class="op">+</span><span class="st"> </span>managedcare, <span class="dt">data =</span> train_meps)
predict_meps4 &lt;-<span class="st"> </span>test_meps[,explvars4]
predict_mlr4  &lt;-<span class="st"> </span><span class="kw">predict</span>(meps_mlr4, predict_meps4)
predict_err_mlr4 &lt;-<span class="st"> </span>test_meps<span class="op">$</span>expendop <span class="op">-</span><span class="st"> </span>predict_mlr4
sape4     &lt;-<span class="st"> </span><span class="kw">sum</span>(<span class="kw">abs</span>(predict_err_mlr4))<span class="op">/</span><span class="dv">1000</span>

sape3;sape4

<span class="kw">par</span>(<span class="dt">mfrow =</span> <span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>))
<span class="kw">plot</span>(predict_err_mlr4, predict_err_mlr3, <span class="dt">xlab =</span> <span class="st">&quot;Benchmark Predict Error&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;MLR Predict Error&quot;</span>)
<span class="kw">plot</span>(predict_mlr3, test_meps<span class="op">$</span>expendop, <span class="dt">xlab =</span> <span class="st">&quot;MLR Predicts&quot;</span>, <span class="dt">ylab =</span> <span class="st">&quot;Held Out Expends&quot;</span>)</code></pre></div>
<p><strong>Submission correctness test (SCT)</strong></p>
<p>success_msg(“Excellent! We found that the model of log expenditures outperforms the benchmark that models expenditures, even when the out of sample criterion was in the original ‘dollar’ units. It is comoforting to know that a search for a good model does well when using different out of sample criteria.”)</p>
</div>
</div>
<div id="what-the-modeling-procedure-tells-us" class="section level2">
<h2><span class="header-section-number">5.2</span> What the modeling procedure tells us</h2>
<div id="video-exercise.-what-the-modeling-procedure-tells-us" class="section level3">
<h3><span class="header-section-number">5.2.1</span> Video (Exercise). What the modeling procedure tells us</h3>
<div id="learning-objectives-18" class="section level4">
<h4><span class="header-section-number">5.2.1.1</span> Learning Objectives</h4>
<p>In this module, you learn how to:</p>
<ul>
<li>Interpret individual effects, based on their substantive and statistical significance</li>
<li>Describe other purposes of regression modeling, including regression function for pricing, benchmarking studies, and predicting future observations.</li>
</ul>
</div>
<div id="video-overheads-16" class="section level4">
<h4><span class="header-section-number">5.2.1.2</span> Video Overheads</h4>
<p><strong>Overhead A. Interpreting individual effects</strong></p>
<ul>
<li>Substantive Effect
<ul>
<li>Does a 1 unit change in <span class="math inline">\(x\)</span> imply an economically meaningful change in <span class="math inline">\(y\)</span>?</li>
<li>Example: Looking at urban and rural claims experience, is there a big enough difference to warrant differentiating prices by location?</li>
</ul></li>
<li>Statistical Significance
<ul>
<li>We have standards for deciding whether or not a variable is statistically significant.</li>
<li>A “statistically significant effect” is the result of a regression coefficient that is large relative to its standard error.</li>
</ul></li>
<li>Statistical significance is driven by
<ul>
<li>precision of <span class="math inline">\(s\)</span>,</li>
<li>collinearity (<span class="math inline">\(VIF\)</span>) and</li>
<li>sample size</li>
</ul></li>
<li><strong>Causal Effects</strong>
<ul>
<li>If we change <span class="math inline">\(x\)</span>, would <span class="math inline">\(y\)</span> change?</li>
</ul></li>
</ul>
<p><strong>Overhead B. Other Interpretations</strong></p>
<ul>
<li>Regression function and pricing
<ul>
<li>The regression function is <span class="math inline">\(\mathrm{E~}y = \beta_0 + \beta_1 x_1 + \cdots +\beta _k x_k\)</span>.</li>
<li>Think about expected claims as our baseline price for short-term insurance coverages.</li>
</ul></li>
<li>Benchmarking studies
<ul>
<li>In studies of CEO’s salaries, who is making a lot (or a little), controlled for industry, years of experience and so forth?</li>
<li>In studies of medical claims, who are the high-cost patients?</li>
</ul></li>
<li>Prediction
<ul>
<li>A new patient comes in with a given set of characteristics, what can I say about his or her future medical claims?</li>
</ul></li>
</ul>
</div>
</div>
<div id="mc-exercise.-what-the-modeling-procedure-tells-us" class="section level3">
<h3><span class="header-section-number">5.2.2</span> MC Exercise. What the modeling procedure tells us</h3>
<p>Which of the following are not important when interpreting the effects of individual variables?</p>
<ul>
<li>A. Substantive significance</li>
<li>B. Statistical significance</li>
<li>C. The amount of effort that it took to gather the data and do the analysis</li>
<li>D. Role of causality</li>
</ul>
<p>Which of the following is not a potential explanation for the lack of statistical significance of an explanatory variable?</p>
<ul>
<li>A. Large variation of the disturbance term</li>
<li>B. High collinearity, so that the variable may be confounded with other variables.</li>
<li>C. The coefficient of determination, <span class="math inline">\(R^2\)</span>, is not sufficiently large.</li>
</ul>
<p>Which of the following is not an important purpose of regression modeling?</p>
<ul>
<li>A. Pricing of risks such as insurance contracts</li>
<li>B. Benchmarking studies, to compare an observation to others</li>
<li>C. Prediction</li>
<li>D. Keeping a computer occupied with work</li>
</ul>
</div>
</div>
<div id="the-importance-of-variable-selection" class="section level2">
<h2><span class="header-section-number">5.3</span> The importance of variable selection</h2>
<div id="video-exercise.-the-importance-of-variable-selection" class="section level3">
<h3><span class="header-section-number">5.3.1</span> Video (Exercise). The importance of variable selection</h3>
<div id="learning-objectives-19" class="section level4">
<h4><span class="header-section-number">5.3.1.1</span> Learning Objectives</h4>
<p>In this module, you learn how to:</p>
<ul>
<li>Describe the bias that can occur when omitting important variables</li>
<li>Describe the principle of parsimony and reasons for adopting this approach</li>
</ul>
</div>
<div id="video-overheads-17" class="section level4">
<h4><span class="header-section-number">5.3.1.2</span> Video Overheads</h4>
<p><strong>Overhead A. The importance of variable selection</strong></p>
<ul>
<li>With too many or too few variables, <span class="math inline">\(s\)</span> is too large an estimate of <span class="math inline">\(\sigma\)</span>.
<ul>
<li>Prediction intervals are too large</li>
<li>Standard errors for the partial slopes are too large</li>
</ul></li>
<li>With too few or incorrect variables, we produce biased estimates of the slopes <span class="math inline">\(\beta\)</span>. Thus, our predictions are biased and hence inaccurate.</li>
</ul>
<p><strong>Overhead B. Example. Regression using one explanatory variable</strong></p>
<ul>
<li><strong>Too Many Variables</strong>
<ul>
<li>The “true” model is <span class="math inline">\(y_i = \beta_0+ \varepsilon_i\)</span></li>
<li>We mistakenly use <span class="math inline">\(y_i = \beta_0+ \beta_1 x_i^* + \varepsilon_i\)</span></li>
<li>The prediction at a generic level <span class="math inline">\(x\)</span> is <span class="math inline">\(b_0^* + b_1^* x\)</span>.</li>
<li>It is not to hard to confirm that <span class="math inline">\(Bias = \mathrm{E} (b_0^* + b_1^* x) - \mathrm{E } y= 0\)</span>.</li>
</ul></li>
<li><strong>Too Few Variables</strong>
<ul>
<li>The “true” model is <span class="math inline">\(y_i = \beta_0 + \beta_1 x_i + \varepsilon_i\)</span>.</li>
<li>We mistakenly use <span class="math inline">\(y_i = \beta_0^* \varepsilon_i\)</span>.</li>
<li>Under the true model, <span class="math inline">\(\overline{y} = \beta_0 + \beta_1 \overline{x} + \overline{\varepsilon}\)</span></li>
<li>Thus, the bias is</li>
</ul></li>
</ul>
<p><span class="math display">\[
Bias  = \text{E }\bar{y} - \text{E }(\beta_0 + \beta_1 x + \varepsilon) \\
= \text{E }(\beta_0 + \beta_1 \bar{x}+\bar{\varepsilon})-(\beta_0+\beta_1 x)=\beta_1 (\bar{x}-x).
\]</span></p>
<p>There is a persistent, long-term error in omitting the explanatory variable <span class="math inline">\(x\)</span>.</p>
<p><strong>Overhead C. Principle of parsimony</strong></p>
<ul>
<li>The principle of parsimony, also known as <em>Occam’s Razor</em>, states that when there are several possible explanations for a phenomenon, use the simplest.
<ul>
<li>A simpler explanation is easier to interpret.</li>
<li>Simpler models, also known as ``more parsimonious’’ models, often do well on fitting out-of-sample data</li>
<li>Extraneous variables can cause problems of collinearity, leading to difficulty in interpreting individual coefficients.</li>
</ul></li>
<li>In contrast, in a quote often attributed to Albert Einstein, we should use “the simplest model possible, but no simpler.”
<ul>
<li>Omitting important variables can lead to biased results, a potentially serious error.</li>
<li>Including extraneous variables decreases the degrees of freedom and increases the estimate of variability, typically of less concern in actuarial applications.</li>
</ul></li>
</ul>
</div>
</div>
<div id="mc-exercise.-principle-of-parsimony" class="section level3">
<h3><span class="header-section-number">5.3.2</span> MC Exercise. Principle of parsimony</h3>
<p>Which of the following is true about under- and over-fitting a model?</p>
<ul>
<li>A. When we over-fit a model, estimates of regression coefficients are over-biased as is <span class="math inline">\(s^2\)</span>, the estimate of model variance <span class="math inline">\(\sigma^2\)</span>.</li>
<li>B. When we over-fit a model, estimates of regression coefficients are remain unbiased whereas <span class="math inline">\(s^2\)</span>, the estimate of model variance <span class="math inline">\(\sigma^2\)</span>, is over-biased.</li>
<li>C. When we over-fit a model, estimates of regression coefficients are remain under-biased as is <span class="math inline">\(s^2\)</span>, the estimate of model variance <span class="math inline">\(\sigma^2\)</span>.</li>
<li>D. When we under-fit a model, estimates of regression coefficients are remain unbiased whereas <span class="math inline">\(s^2\)</span>, the estimate of model variance <span class="math inline">\(\sigma^2\)</span>, is over-biased.</li>
</ul>
<p>Which of the following is not true of Occam’s Razor?</p>
<ul>
<li>A. When there are several possible explanations for a phenomenon, use the simplest one.</li>
<li>B. Simpler models are easier to interpret.</li>
<li>C. Variables can be statistically significant but practically unimportant.</li>
<li>D. Simpler models often do better for predicting out-of-sample data</li>
</ul>
<p><strong>Overhead D. Course wrap up</strong></p>
<p>Thanks for watching</p>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="variable-selection.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": false,
"twitter": false,
"google": true,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/Chapters/Chapter5.Rmd",
"text": "Edit"
},
"download": ["RegressModelDataCamp.pdf", "RegressModelDataCamp.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
